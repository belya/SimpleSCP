<html>
  <head>
    <link rel="stylesheet" type="text/css" href="style.css">
    <script src="jquery-2.1.3.min.js"></script>
    <script src="esprima.js"></script>
    <script src="simplescp1_2.js"></script>
    <script src="simplescp1_2_modifiers.js"></script>
    <script src="simplescp1_2_operators.js"></script>
    <script src="simplescp1_2_parser.js"></script>
    <script>
function startParser() {
  document.getElementById("program").innerHTML = parse(document.getElementById("source").value);
}
    </script>
<script type="text/javascript">
function selectText() {
 var e= $("#program")[0]; 
 if(window.getSelection){ 
 var s=window.getSelection(); 
 if(s.setBaseAndExtent){ 
 s.setBaseAndExtent(e,0,e,e.innerText.length-1); 
 }else{ 
 var r=document.createRange(); 
 r.selectNodeContents(e); 
 s.removeAllRanges(); 
 s.addRange(r);} 
 }else if(document.getSelection){ 
 var s=document.getSelection(); 
 var r=document.createRange(); 
 r.selectNodeContents(e); 
 s.removeAllRanges(); 
 s.addRange(r); 
 }else if(document.selection){ 
 var r=document.body.createTextRange(); 
 r.moveToElementText(e); 
 r.select();}
}
</script>
    <title>SimpleSCP 1.2</title>
  </head>
  <body>
    <table>
      <tr>
        <td>
          <textarea id="source" rows = "30" cols="80" onkeydown="startParser()">
function example(_scp_program) {
  search(
    _scp_program, 
    [assign, _tmp_arc_1], 
    [assign, _pattern], 
    [assign, _tmp_arc_2], 
    nrel_error_pattern,
    [], [], [assign, _patterns], [], []    
  );
  while(search(patterns, [assign, _arc], [assign, _pattern])) {
    sys_search(
      _pattern,
      [assign, _result],
      pattern_params,
      [assign, _all_elements]
    );
    /*scs
      pattern_params -> ... (*
        -> rrel_1: rrel_fixed: rrel_scp_const: _target_scp_program;;
        -> rrel_2: rrel_fixed: rrel_scp_var: _scp_program;;
      *);;
    scs*/
    if(_result) {
      proc_generate_error(_scp_program);
      print("Error!");
    }
    erase([erase, _arc]); 
  }
}</textarea>
        </td>
        <td>
        <div id="program" onclick="selectText();"></div>
        </td>
      </tr>
    </table>  
  </body>
</html>
